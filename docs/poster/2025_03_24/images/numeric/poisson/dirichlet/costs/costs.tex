
\documentclass[border=1mm]{standalone}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{tikz}
% \usepackage[margin=1cm]{geometry}

\usepackage{booktabs}
\usepackage{pgfplotstable}
\usepackage{xcolor}
\usepackage{amsmath}

% gains pour tous les q
\newcommand{\coststableallq}[1]{
    \pgfplotstabletypeset[
        col sep=comma,
        every head row/.style={
        before row={\toprule[1.pt]
        & & \multicolumn{2}{c}{\textbf{$N_\text{dofs}$}} \\
		\cmidrule(lr){3-4}
        },
        after row=\cmidrule(lr){1-1} \cmidrule(lr){2-2} \cmidrule(lr){3-4}},
        every last row/.style={after row=\bottomrule[1.pt]},
        every nth row={2}{before row=\cmidrule(lr){1-1} \cmidrule(lr){2-2} \cmidrule(lr){3-4}},
		columns/q/.style={column name=\textbf{k}},
        columns/e/.style={column name=\textbf{e},sci},
		columns/FEM_dofs/.style={column name=\textbf{FEM},fixed},
        columns/Add_dofs/.style={column name=\textbf{Add},fixed,
            postproc cell content/.append style={
                /pgfplots/table/@cell content/.add={\color{red}}{},
            }
        },
        columns={q,e,FEM_dofs,Add_dofs},
        precision=2
    ]{#1}
}

\begin{document}
    \coststableallq{TabDoFs_case1_v1_param1.csv}
\end{document}